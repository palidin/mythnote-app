# MythNote Tailwind CSS 重构大纲

## 📋 项目概述
将现有的 SCSS/CSS 样式系统迁移到 Tailwind CSS，并优化 UI/UX 设计，提升用户体验。

---

## 🎯 重构目标

1. **样式系统现代化**：从 SCSS 迁移到 Tailwind CSS
2. **UI 美化**：提升视觉设计，使用现代化设计语言
3. **用户体验优化**：改进交互反馈、响应式设计、可访问性
4. **代码维护性**：减少自定义 CSS，使用 Tailwind 工具类
5. **性能优化**：利用 Tailwind 的 JIT 模式，减少 CSS 体积

---

## 📦 第一阶段：环境配置与基础设置

### 1.1 安装和配置 Tailwind CSS
- [ ] 安装 Tailwind CSS 及相关依赖
  ```bash
  pnpm add -D tailwindcss postcss autoprefixer
  ```
- [ ] 初始化 Tailwind 配置文件 (`tailwind.config.js`)
- [ ] 配置 PostCSS (`postcss.config.js`)
- [ ] 创建 Tailwind 入口文件 (`src/styles/tailwind.css`)
- [ ] 在 `src/App.tsx` 或入口文件中引入 Tailwind CSS
- [ ] 配置 Rsbuild 以支持 Tailwind CSS

### 1.2 设计系统定义
- [ ] 定义颜色主题（主色、次色、语义色）
- [ ] 定义间距系统（spacing scale）
- [ ] 定义字体系统（字体族、字号、行高）
- [ ] 定义阴影系统
- [ ] 定义圆角系统
- [ ] 定义过渡动画时长

### 1.3 自定义 Tailwind 配置
- [ ] 扩展主题颜色（适配现有设计）
- [ ] 自定义工具类（如 `.text-title` 等常用样式）
- [ ] 配置暗色模式支持（可选）
- [ ] 配置响应式断点

---

## 🎨 第二阶段：核心布局重构

### 2.1 主布局组件 (`Layout.tsx`)
- [ ] 移除 `layout.scss` 依赖
- [ ] 使用 Tailwind 重构三栏布局
  - 响应式设计（移动端适配）
  - 可拖拽分割线样式优化
- [ ] 优化布局间距和边距
- [ ] 添加过渡动画效果

### 2.2 左侧栏 (`Left.tsx`)
- [ ] 重构标签树样式
  - 标签项悬停效果
  - 激活状态样式
  - 折叠/展开动画
- [ ] 美化操作按钮栏
  - 按钮样式统一
  - 图标和文字对齐
- [ ] 优化滚动条样式
- [ ] 添加加载状态指示器

### 2.3 中间栏 (`Middle.tsx`)
- [ ] 重构搜索栏
  - 输入框样式美化
  - 搜索按钮图标化
  - 新建按钮样式优化
- [ ] 重构笔记列表
  - 列表项卡片化设计
  - 悬停和选中状态
  - 置顶标记样式
  - 加载更多按钮
- [ ] 优化排序选择器样式
- [ ] 添加空状态提示

### 2.4 右侧栏 (`Right.tsx`)
- [ ] 重构笔记详情头部
  - 标题输入框样式
  - 元信息展示优化
  - 标签展示美化（标签云样式）
- [ ] 优化工具栏按钮
- [ ] 编辑器容器样式优化
- [ ] 添加空状态遮罩层

---

## 🧩 第三阶段：组件重构

### 3.1 基础组件

#### `MyInput.tsx`
- [ ] 移除内联样式，使用 Tailwind
- [ ] 添加焦点状态样式
- [ ] 添加错误状态样式
- [ ] 优化输入框边框和阴影

#### `MyContextMenu.tsx`
- [ ] 使用 Tailwind 重构菜单样式
- [ ] 添加菜单项悬停效果
- [ ] 优化菜单阴影和圆角

#### `MySelect.tsx` (如果存在)
- [ ] 重构选择器样式
- [ ] 添加下拉箭头动画

### 3.2 功能组件

#### `TagFolder.tsx`
- [ ] 重构标签树样式
- [ ] 优化折叠图标动画
- [ ] 添加标签计数徽章样式
- [ ] 优化右键菜单触发区域

#### `LoginModal.tsx`
- [ ] 移除 `LoginModal.scss`
- [ ] 使用 Tailwind 重构登录表单
- [ ] 添加表单验证样式
- [ ] 优化按钮和输入框
- [ ] 添加加载状态

#### `ListItem.tsx` (在 Middle.tsx 中)
- [ ] 卡片化设计
- [ ] 添加阴影和圆角
- [ ] 优化选中状态
- [ ] 添加过渡动画

---

## 🎭 第四阶段：编辑器样式优化

### 4.1 WYSIWYG 编辑器 (`WysiwygEditor.tsx`)
- [ ] 移除 `WysiwygEditor.scss`
- [ ] 使用 Tailwind 重构编辑器容器
- [ ] 优化编辑器内边距
- [ ] 美化工具栏样式
- [ ] 优化代码块样式
- [ ] 优化表格样式

### 4.2 Markdown 编辑器 (`MarkdownEditor.tsx`)
- [ ] 优化编辑器容器样式
- [ ] 统一代码高亮主题
- [ ] 优化滚动条样式

---

## 🎪 第五阶段：UI/UX 改进

### 5.1 交互反馈优化
- [ ] 添加按钮点击反馈（active 状态）
- [ ] 优化悬停效果（hover 状态）
- [ ] 添加加载状态指示器
- [ ] 优化 Toast 通知样式
- [ ] 添加骨架屏（Skeleton）加载效果

### 5.2 视觉层次优化
- [ ] 统一阴影系统（提升层次感）
- [ ] 优化颜色对比度（可访问性）
- [ ] 统一圆角使用
- [ ] 优化字体大小和权重

### 5.3 动画和过渡
- [ ] 添加页面切换动画
- [ ] 优化列表项出现动画
- [ ] 添加模态框动画
- [ ] 优化折叠/展开动画
- [ ] 添加加载动画

### 5.4 响应式设计
- [ ] 移动端布局适配
- [ ] 平板端布局优化
- [ ] 响应式字体大小
- [ ] 响应式间距

---

## 🗑️ 第六阶段：清理和优化

### 6.1 样式文件清理
- [ ] 删除 `src/assets/style/layout.scss`
- [ ] 删除 `src/WysiwygEditor.scss`
- [ ] 删除 `src/components/LoginModal.scss`
- [ ] 评估 `src/assets/style/contextmenu.css` 是否需要保留
- [ ] 清理未使用的 CSS 类

### 6.2 代码优化
- [ ] 移除所有 `className` 中的自定义类名
- [ ] 统一使用 Tailwind 工具类
- [ ] 提取重复的样式组合为组件
- [ ] 优化条件样式使用 `clsx` 或 `cn` 工具

### 6.3 性能优化
- [ ] 配置 Tailwind JIT 模式
- [ ] 优化 PurgeCSS 配置
- [ ] 检查 CSS 体积
- [ ] 优化关键 CSS

---

## 🎨 设计改进建议

### 颜色方案
- **主色调**：深蓝/青色系（保持现有 `hsl(200deg 16% 15%)` 风格）
- **背景色**：浅灰/白色（`hsl(0deg 0% 98%)`）
- **强调色**：蓝色系（用于链接、按钮）
- **语义色**：成功（绿）、警告（黄）、错误（红）

### 间距系统
- 使用 Tailwind 默认间距（4px 基准）
- 统一组件内外边距

### 字体系统
- 标题：加粗，较大字号
- 正文：常规，适中字号
- 辅助信息：较小字号，较浅颜色

### 组件设计
- **按钮**：圆角、阴影、悬停效果
- **输入框**：边框、焦点状态、占位符样式
- **卡片**：阴影、圆角、内边距
- **标签**：圆角、背景色、文字颜色

---

## 📝 实施步骤建议

1. **先配置环境**（第一阶段）
2. **重构布局**（第二阶段）- 确保基本布局正常
3. **重构组件**（第三阶段）- 逐个组件迁移
4. **优化编辑器**（第四阶段）- 特殊样式处理
5. **UI 改进**（第五阶段）- 提升用户体验
6. **清理优化**（第六阶段）- 收尾工作

---

## ⚠️ 注意事项

1. **渐进式迁移**：不要一次性删除所有 SCSS，逐步迁移
2. **保持功能**：确保重构过程中功能不受影响
3. **测试验证**：每个阶段完成后进行测试
4. **编辑器样式**：WYSIWYG 编辑器可能有深度嵌套的样式，需要仔细处理
5. **第三方组件**：某些第三方组件（如 `@szhsin/react-menu`）的样式可能需要覆盖
6. **兼容性**：确保在不同浏览器中表现一致

---

## 📊 预期成果

- ✅ 完全移除 SCSS 依赖
- ✅ 使用 Tailwind CSS 工具类
- ✅ 更现代化的 UI 设计
- ✅ 更好的用户体验
- ✅ 更易维护的代码
- ✅ 更小的 CSS 体积（通过 PurgeCSS）
- ✅ 响应式设计支持

---

## 🔧 技术栈

- **Tailwind CSS** v3.x
- **PostCSS**
- **Autoprefixer**
- **clsx** (用于条件类名)
- **Rsbuild** (构建工具)

---

## 📅 时间估算

- 第一阶段：1-2 小时
- 第二阶段：4-6 小时
- 第三阶段：3-4 小时
- 第四阶段：2-3 小时
- 第五阶段：3-4 小时
- 第六阶段：1-2 小时

**总计**：约 14-21 小时
